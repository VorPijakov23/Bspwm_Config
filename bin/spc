#!/bin/env bash

set -e

REBOOT=false
UPDATE=false

for arg in "$@"; do
  if [[ "$arg" == "-r" ]] || [[ "$arg" == "--reboot" ]]; then 
    REBOOT=true
  elif [[ "$arg" == "-u" ]] || [[ "$arg" == "--update" ]]; then
    UPDATE=true
  fi
done


if [[ "$UPDATE" = true ]]; then
  udp && udy && yes | rm .zsh_history && clear && echo "Press to any button, with reboot:" && read -n 1
  if [[ "$REBOOT" = true ]]; then
    reboot
  else
    shutdown -h now
  fi
else
  yes | rm .zsh_history && clear && echo "Press to any button, with shutdown:" && read -n 1
  if [[ "$REBOOT" = true ]]; then
    reboot
  else
    shutdown -h now 
  fi
fi
